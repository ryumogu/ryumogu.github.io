/* ================================
   リセット & 変数
================================== */
:root{
  --bg: #fbf5e6;             /* 紙っぽい薄ベージュ */
  --text: #1f2937;
  --muted: #6b7280;
  --border: #e5e7eb;
  --accent: #ec6aa8;
  --accent-weak: #fde2ee;
  --link: #0ea5e9;
  --shadow: 0 10px 25px rgba(17,24,39,.08), 0 4px 10px rgba(17,24,39,.06);

  --container: 1120px;
  --radius: 14px;
  --radius-lg: 20px;

  --gap-1: .5rem;
  --gap-2: .75rem;
  --gap-3: 1rem;
  --gap-4: 1.5rem;
  --gap-5: 2rem;
  --gap-6: 3rem;
  --gap-8: 4rem;

  --font-body: "Noto Sans JP", "Hiragino Kaku Gothic ProN", "Yu Gothic",
               "Meiryo", system-ui, -apple-system, "Segoe UI", Roboto, sans-serif;

  /* Top bar（布） */
  --bar-bg1:#4a3b34; --bar-bg2:#3b2e28;
  --bar-sep:rgba(255,255,255,.08);
  --bar-hi:rgba(255,255,255,.1); --bar-lo:rgba(0,0,0,.35);
}
*{ box-sizing:border-box; }
html,body{ height:100%; }
html{ scroll-behavior:smooth; }
body{
  margin:0; color:var(--text); background: var(--bg);
  font-family:var(--font-body); line-height:1.75;
  -webkit-font-smoothing: antialiased; text-rendering: optimizeLegibility;
}
img,svg,video{ display:block; max-width:100%; height:auto; }
a{ color: inherit; text-decoration: none; }
ul,ol{ margin:0; padding:0; list-style:none; }
h1,h2,h3,h4,p{ margin:0; }
.container{ width:min(100% - 32px, var(--container)); margin-inline:auto; }

/* スキップリンク */
.skip-link{ position:absolute; left:-9999px; top:auto; width:1px; height:1px; overflow:hidden; }
.skip-link:focus{ position:fixed; left:1rem; top:1rem; padding:.5rem .75rem; background:#111; color:#fff; z-index:1000; border-radius:6px; }

/* ================================
   画面上部：セグメント型トップナビ
================================== */
.site-header{
  position: sticky; top: 0; z-index: 50;
  padding: 10px 0 16px; /* 上に少し余白 */
  background:
    radial-gradient(60% 100% at 50% 0, rgba(255,255,255,.45), rgba(255,255,255,0) 70%),
    var(--bg);
  backdrop-filter: saturate(140%) blur(1px);
}
.bar-nav{
  width: min(100% - 32px, var(--container));
  margin: 0 auto;
  display: grid;
  grid-template-columns: 56px repeat(7, 1fr);
  border-radius: 10px; overflow: hidden;
  box-shadow: 0 6px 14px rgba(0,0,0,.22);
}
.bar-logo, .bar-link{
  position: relative; color:#eee; text-shadow:0 1px 0 rgba(0,0,0,.4);
  background:
    url("./assets/tex_brown.jpg") center/300px 300px repeat,
    repeating-linear-gradient(0deg, rgba(255,255,255,.04) 0 2px, transparent 2px 4px),
    linear-gradient(180deg, var(--bar-bg1), var(--bar-bg2));
  box-shadow:
    inset 0 1px 0 var(--bar-hi),
    inset 0 -1px 0 var(--bar-lo),
    inset -1px 0 0 var(--bar-sep);
}
.bar-logo{ display:grid; place-items:center; height:56px; border-right:1px solid var(--bar-sep); }
.bar-logo img{ width:26px; height:26px; object-fit:contain; filter: invert(1) brightness(1.2); }

.bar-link{
  height:56px; padding:8px 10px;
  display:flex; flex-direction:column; align-items:center; justify-content:center;
  gap:2px; text-align:center; transition:filter .15s ease;
}
.bar-link .en{ font: 800 14px/1 "Noto Sans JP", system-ui, sans-serif; letter-spacing:.06em; text-transform:uppercase; }
.bar-link small{ font:600 11px/1 "Noto Sans JP", system-ui, sans-serif; opacity:.85; }
.bar-link:hover, .bar-logo:hover, .bar-link:focus-visible{ filter:brightness(1.12); outline:none; }
.bar-link.is-active{
  background:
    url("./assets/tex_brown.jpg") center/300px 300px repeat,
    repeating-linear-gradient(0deg, rgba(255,255,255,.06) 0 2px, transparent 2px 4px),
    linear-gradient(180deg, #554338, #46362f);
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,.16),
    inset 0 -3px 0 rgba(255,255,255,.28),
    inset -1px 0 0 var(--bar-sep);
}
.bar-nav > :first-child{ border-top-left-radius:10px; border-bottom-left-radius:10px; }
.bar-nav > :last-child{ border-top-right-radius:10px; border-bottom-right-radius:10px; box-shadow: inset 0 1px 0 var(--bar-hi), inset 0 -1px 0 var(--bar-lo); }

/* モバイル：横スクロール化 */
@media (max-width: 900px){
  .bar-nav{ grid-auto-flow: column; grid-template-columns: none; grid-auto-columns: minmax(120px, 1fr); overflow-x:auto; scrollbar-width:thin; }
  .bar-logo{ min-width:56px; }
}

/* ================================
   共通UI
================================== */
.button{ display:inline-block; padding:.75rem 1rem; border-radius:999px; background:var(--accent); color:#fff; font-weight:700; box-shadow:var(--shadow); }
.badge{ position:absolute; inset:10px auto auto 10px; background:#111; color:#fff; font-size:.75rem; padding:.25rem .5rem; border-radius:6px; }
.section-header{ display:flex; align-items:baseline; justify-content:space-between; gap:var(--gap-2); margin-bottom:var(--gap-3); }
.section-header h2{ font-size:clamp(1.2rem, 1vw + 1rem, 1.6rem); font-weight:800; letter-spacing:.02em; border-left:6px solid var(--accent); padding-left:.6rem; }
.section-header .more{ color:var(--link); font-size:.9rem; }

/* ================================
   ヒーロー
================================== */
.hero{ padding: var(--gap-4) 0 var(--gap-5); }
.hero .container{ overflow:hidden; border-radius: var(--radius-lg); }
.hero-track{ display:flex; gap:.5rem; overflow-x:auto; scroll-snap-type:x mandatory; scrollbar-width:none; }
.hero-track::-webkit-scrollbar{ display:none; }
.hero-slide{ flex:0 0 100%; scroll-snap-align:start; position:relative; border-radius:var(--radius-lg); overflow:hidden; }
.hero-slide img{ width:100%; height: clamp(220px, 40vw, 480px); object-fit:cover; transform: translateZ(0); }

/* ================================
   ピックアップ
================================== */
.pickup{ padding: var(--gap-5) 0; }
.grid-3{ display:grid; gap:var(--gap-3); grid-template-columns:1fr; }
@media (min-width:720px){ .grid-3{ grid-template-columns:repeat(3,1fr); } }
.pickup-card{ position:relative; display:block; border-radius:var(--radius); overflow:hidden; box-shadow:var(--shadow); background:#fff; }
.pickup-card img{ aspect-ratio:16/9; width:100%; object-fit:cover; }

/* ================================
   NEWS
================================== */
.news{ padding: var(--gap-5) 0; }
.news-list{ display:grid; gap:.25rem; border-top:1px solid var(--border); }
.news-list li{ display:grid; grid-template-columns:8.5ch 1fr; gap:1rem; padding:.9rem 0; border-bottom:1px solid var(--border); }
.news-list time{ color:var(--muted); font-feature-settings:"tnum"; }
.news-list a{ color:#111; }
.news-list a:hover{ text-decoration:underline; }

/* ================================
   PRODUCTS
================================== */
.products{ padding: var(--gap-5) 0; }
.product-grid{ display:grid; gap:var(--gap-3); grid-template-columns:1fr 1fr; }
@media (min-width:900px){ .product-grid{ grid-template-columns:repeat(4,1fr); } }
.product-card{ display:block; border-radius:var(--radius); overflow:hidden; border:1px solid var(--border); background:#fff; transition: transform .2s ease, box-shadow .2s ease; }
.product-card img{ width:100%; aspect-ratio:4/3; object-fit:cover; background:#f8fafc; }
.product-card h3{ font-size:1rem; padding:.9rem; font-weight:700; }
.product-card:hover{ transform:translateY(-2px); box-shadow:var(--shadow); }

/* ================================
   GOODS
================================== */
.goods{ padding: var(--gap-5) 0; }
.banner-row{ display:grid; gap:var(--gap-3); grid-template-columns:1fr; }
@media (min-width:820px){ .banner-row{ grid-template-columns:repeat(2,1fr); } }
.banner-row a{ display:block; border-radius:var(--radius); overflow:hidden; box-shadow:var(--shadow); }

/* ================================
   EVENT / SUPPORT & CONTACT / LINK
================================== */
.grid-2{ display:grid; gap:var(--gap-3); grid-template-columns:1fr; }
@media (min-width:900px){ .grid-2{ grid-template-columns:repeat(2,1fr); } }
.events-support, .contact-links{ padding: var(--gap-5) 0; }
.panel{ background:#fff; border:1px solid var(--border); border-radius:var(--radius); padding:var(--gap-4); box-shadow:0 2px 8px rgba(0,0,0,.02); }
.panel h2{ font-size:1.1rem; margin-bottom:.75rem; font-weight:800; }
.link-list{ display:grid; gap:.25rem; }
.link-list a{ display:block; padding:.6rem .75rem; border-radius:8px; }
.link-list a:hover{ background:var(--accent-weak); }

/* ================================
   フッター
================================== */
.site-footer{ margin-top: var(--gap-6); padding: var(--gap-5) 0 var(--gap-6); background:#0b0c10; color:#cbd5e1; }
.site-footer .container{ display:flex; flex-wrap:wrap; align-items:center; gap:var(--gap-3); justify-content:space-between; }
.footer-logo img{ filter: invert(1) grayscale(1) brightness(2); }
.site-footer small{ display:block; opacity:.8; }
.site-footer nav ul{ display:flex; gap:1rem; flex-wrap:wrap; }
.site-footer nav a{ color:#cbd5e1; text-decoration: underline dotted; }

/* ダークモード（任意） */
@media (prefers-color-scheme: dark){
  :root{
    --bg:#0b0f14; --text:#e5e7eb; --muted:#9ca3af; --border:#1f2937;
  }
  .site-footer{ background:#07090d; color:#cbd5e1; }
  .pickup-card, .product-card, .panel{ background:#0f172a; border-color:var(--border); }
  .news-list a{ color:#e5e7eb; }
}

/* === Responsive hardening pack =========================== */

/* 1) ナビ：横スクロール＋スナップ、折返し防止 */
.bar-nav{
  overflow-x: auto;
  scroll-snap-type: x proximity;
  -webkit-overflow-scrolling: touch;
}
.bar-link{
  scroll-snap-align: start;
  white-space: nowrap; /* 英数が折れて潰れるのを防止 */
}

/* 極小幅ではサブラベルを隠す */
@media (max-width: 360px){
  .bar-link small{ display:none; }
  .bar-link .en{ font-size: 12px; }
}

/* 2) アンカーのヘッダー食い込み防止（#news 等に効く） */
:root{ --header-offset: 72px; } /* ヘッダーの実高さに合わせて調整 */
[id]{ scroll-margin-top: var(--header-offset); }

/* 3) 自動フィットのカード段組（メディアクエリ依存を減らす） */
.product-grid{
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
}
.grid-3{
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
}
.banner-row{
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
}

/* 4) ヒーローの高さを端末に馴染ませる */
.hero-slide img{
  height: clamp(180px, 42vh, 480px);
}
/* 低い横向き画面（例：iPhone横）では更に圧縮 */
@media (max-height: 540px) and (orientation: landscape){
  .hero{ padding: .75rem 0 1rem; }
  .hero-slide img{ height: 38vh; }
}

/* 5) ノッチ/安全領域（iOS Safari） */
.site-header{
  padding-top: calc(10px + env(safe-area-inset-top));
}

/* 6) 動きを抑える設定の人にはスナップを弱める */
@media (prefers-reduced-motion: reduce){
  .bar-nav, .hero-track{ scroll-behavior: auto; }
  .hero-track{ scroll-snap-type: none; }
}

/* 7) 細かい詰め：日付カラムを狭小端末で少し縮める */
@media (max-width: 380px){
  .news-list li{ grid-template-columns: 7.5ch 1fr; }
}

